var DataView=(function(f){var b=(function(){return function(h,g){return moment(g(h)).format("L LT")}});function e(k,h){moment.lang("nl");var j=f("#"+k);var i=parseInt(j.attr("data-page"));h=f.isNumeric(h)?h:1;f("tbody",j).html("");f(".loading",j).removeClass("hidden");var g="__api__/data?page="+(i+h);f.getJSON(g,function(n){var m=f("#template-data-table-body").html();n.prettify=b;var l=Mustache.to_html(m,n);f(".loading",j).addClass("hidden");f("tbody",j).html(l);f(".pager .previous",j).toggleClass("disabled",n.pageinfo.current===1);f(".pager .next",j).toggleClass("disabled",n.pageinfo.current===n.pageinfo.pagecount);j.attr("data-page",n.pageinfo.current)})}function d(g){if(!f("#"+g+" .pager .previous").hasClass("disabled")){e(g,-1)}}function c(g){if(!f("#"+g+" .pager .next").hasClass("disabled")){e(g,1)}}function a(g){Modal.create({id:"dataInfo",title:Locale.str("data","details"),btn_cancel:false,btn_action:Locale.str("system","close"),oncreated:function(h,j){f("#"+h).modal("show");var i="__api__/data/"+g;f.getJSON(i,function(r){var q=f("#template-data-details").html();var n=[];for(var m in r.values){var l=r.values[m];var p=false;if(typeof l==="object"){l=JSON.stringify(l);p=true}else{l=l.toString();p=(l.length>100)}n.push({key:m,value:l,large:p})}r.values=n;r.prettify=b;var o=Mustache.to_html(q,r);f(".modal-body","#"+h).html(o);j()});return true}})}return{load:e,previous:d,next:c,showInfo:a}})(jQuery);