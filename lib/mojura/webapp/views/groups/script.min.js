var GroupsView=(function($){function addGroup(){editGroup("new")}function editGroup(groupId){var isNew=(groupId==="new");var titleId=isNew?"add_group":"edit_group";Modal.create({title:Locale.str("groups",titleId),oncreated:function(modalId){$("#"+modalId).modal("show");$.getJSON("__api__/groups/"+groupId,function(json){var template=$("#template-groups-add-edit").html();json.method=isNew?"put":"post";json.urid=UIDGenerator.get();var html=Mustache.render(template,json);$(".modal-body","#"+modalId).html(html)})}})}function showMembers(groupId){Modal.create({title:Locale.str("groups","show_members"),oncreated:function(modalId){$("#"+modalId).modal("show");$.getJSON("__api__/groups/"+groupId+"/members",function(json){var template=$("#template-groups-members").html();var partials={avatars:$("#template-users-avatars").html()};json.urid=UIDGenerator.get();var html=Mustache.render(template,json,partials);$(".modal-body","#"+modalId).html(html)})}})}function editRights(groupId){}function deleteGroup(groupId){}return{addGroup:addGroup,editGroup:editGroup,showMembers:showMembers,editRights:editRights,deleteGroup:deleteGroup}})(jQuery);